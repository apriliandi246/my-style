<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="preconnect" href="https://fonts.googleapis.com" />
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
	<link
		href="https://fonts.googleapis.com/css2?family=Poppins&display=swap"
		rel="stylesheet" />
	<link rel="stylesheet" href="../../css-global/global.css" />
	<title>Password input</title>

	<style>
		body {
			padding: 100px;
		}

		/* ---------------------------- */

		.input-wrapper {
			position: relative;
		}

		.input {
			width: 100%;
			color: #000;
			font-size: 16px;
			border-radius: 4px;
			padding: 8px 52px 8px 14px;
			background-color: var(--neutral-50);
			border: 1px solid var(--neutral-300);
		}

		.input:focus {
			outline-offset: -1px;
			outline: 2px solid var(--primary-900);
		}

		.input:focus+.password-btn-toggle .password-input-icon {
			stroke: var(--primary-900);
		}

		.input:disabled::placeholder {
			color: #ababab;
		}

		.password-btn-toggle {
			top: 0;
			right: 0;
			border: none;
			margin-top: 7px;
			padding: 3px 4px;
			margin-right: 13px;
			position: absolute;
			background-color: transparent;
		}

		.password-btn-toggle:focus {
			outline-offset: -1px;
			outline: 2px solid var(--primary-900);
		}

		.password-btn-toggle:focus>svg {
			stroke: var(--primary-900);
		}

		.password-icon-unactive {
			display: none;
		}
	</style>
</head>

<body>
	<div class="input-wrapper">
		<input type="password" class="input" placeholder="Password">

		<button class="password-btn-toggle">
			<svg
				width="24"
				height="24"
				fill="none"
				stroke="#7d7575"
				stroke-width="2"
				viewBox="0 0 24 24"
				stroke-linecap="round"
				stroke-linejoin="round"
				class="password-input-icon"
				xmlns="http://www.w3.org/2000/svg">
				<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
				<circle cx="12" cy="12" r="3"></circle>
			</svg>

			<svg
				width="24"
				height="24"
				fill="none"
				stroke="#7d7575"
				stroke-width="2"
				viewBox="0 0 24 24"
				stroke-linecap="round"
				stroke-linejoin="round"
				xmlns="http://www.w3.org/2000/svg"
				class="password-input-icon password-icon-unactive">
				<path
					d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24">
				</path>
				<line x1="1" y1="1" x2="23" y2="23"></line>
			</svg>
		</button>
	</div>

	<script type="module">
		"use strict";

		import { listener } from "../../js/utils/dom.js";

		class PasswordToggle {
			constructor() {
				this.passwordInput = document.querySelector(".input");
				this.passwordButtonToggle = document.querySelector(".password-btn-toggle");

				this.addEventListener();
			}

			addEventListener() {
				listener(this.passwordButtonToggle, "click", this.toggleInputType);
			}

			toggleInputType = () => {
				const eyeIcon = this.passwordButtonToggle.firstElementChild;
				const eyeOffIcon = this.passwordButtonToggle.lastElementChild;
				const currentInputType = this.passwordInput.type;

				if (currentInputType === "password") {
					this.passwordInput.type = "text";
					eyeIcon.classList.add("password-icon-unactive");
					eyeOffIcon.classList.remove("password-icon-unactive");
				} else {
					this.passwordInput.type = "password";
					eyeOffIcon.classList.add("password-icon-unactive");
					eyeIcon.classList.remove("password-icon-unactive");
				}
			}
		}

		new PasswordToggle();
	</script>
</body>

</html>
