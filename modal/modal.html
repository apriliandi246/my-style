<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="preconnect" href="https://fonts.googleapis.com" />
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
	<link
		href="https://fonts.googleapis.com/css2?family=Poppins&display=swap"
		rel="stylesheet" />
	<link rel="stylesheet" href="../../css-global/global.css" />
	<title>Modal</title>

	<style>
		body {
			padding: 100px;
		}

		/* ---------------------------- */

		.modal-area {
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			z-index: 9999;
			display: none;
			position: fixed;
			background-color: rgba(0, 0, 0, 0.5);
		}

		.modal {
			width: 500px;
			padding: 20px;
			border-radius: 4px;
			background-color: var(--neutral-50);
		}

		.modal-container {
			width: 100vw;
			height: 100vh;
			display: flex;
			align-items: center;
			justify-content: center;
		}

		.active-modal {
			display: block;
		}

		.modal-body-animation {
			animation: modal 240ms;
		}

		.modal-wrapper-animation {
			animation: modalWrapper 230ms;
		}

		@keyframes modal {
			from {
				transform: scale(0.7);
			}

			to {
				transform: scale(1);
			}
		}

		@keyframes modalWrapper {
			from {
				opacity: 0;
			}

			to {
				opacity: 1;
			}
		}
	</style>
</head>

<body>
	<button id="show-modal-btn">Show Modal</button>

	<div id="modal-area" class="modal-area modal-wrapper-animation">
		<div id="modal-container" class="modal-container">
			<div class="modal modal-body-animation">
				<p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Tenetur corrupti voluptatum magnam ratione autem
					commodi esse eaque officiis nihil ut mollitia illo laboriosam, perspiciatis exercitationem nostrum!
					Exercitationem, facere odio quos fugit, eveniet quibusdam earum facilis atque dolores repellat nam voluptas
					iure? Sit, magnam! Ut id non at in quo natus est aspernatur ullam nobis soluta, doloremque repellendus
					asperiores consequuntur molestiae reiciendis! Quaerat eaque ducimus voluptate illo itaque, dolores quasi
					doloremque, necessitatibus, deleniti quia suscipit voluptatibus laudantium unde libero! Suscipit placeat et
					aperiam cum quisquam ratione eveniet, tenetur qui dolores. Eveniet alias aliquid, reiciendis quisquam vero
					consectetur culpa blanditiis eius sed!.</p>
			</div>
		</div>
	</div>

	<script type="module">
		"use strict";

		import { listener, self } from "../../js/utils/dom.js";

		class Modal {
			constructor() {
				this.modalArea = document.getElementById("modal-area");
				this.modalContainer = document.getElementById("modal-container");
				this.modalTriggerButton = document.getElementById("show-modal-btn");

				this.addEventListener();
			}

			addEventListener() {
				listener(this.modalTriggerButton, "click", this.toggleModal);
				listener(this.modalContainer, "click", self(this.toggleModal));
				listener(document, "keydown", this.escapePress);
			}

			toggleModal = () => {
				this.modalArea.classList.toggle("active-modal");
			}

			escapePress = (event) => {
				const modalStatus = this.modalArea.classList.contains("active-modal");
				if (event.key === "Escape" && modalStatus) this.toggleModal();
			}
		}

		new Modal();
	</script>
</body>

</html>
